<div class="orcamento-layout">
  <app-sidebar></app-sidebar>

  <div class="auth-card">

      <!-- Header -->
      <div class="card-header">
        <button class="btn-primary" type="button" (click)="cancelar()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <div>
          <h2>Efetuar Orçamento</h2>
          <p>Revise os detalhes antes de criar o orçamento</p>
        </div>
      </div>

      <!-- Dados da Solicitação -->
      <div class="section-card" *ngIf="solicitacaoSelecionada">
        <h3>Dados da Solicitação</h3>

        <div class="info-grid">
          <div class="info-item">
            <mat-icon>build</mat-icon>
            <div>
              <strong>Equipamento</strong>
              <p>{{ solicitacaoSelecionada.equipamento }}</p>
            </div>
          </div>

          <div class="info-item">
            <mat-icon>person</mat-icon>
            <div>
              <strong>Cliente</strong>
              <p>{{ solicitacaoSelecionada.cliente }}</p>
            </div>
          </div>

          <div class="info-item">
            <mat-icon>calendar_today</mat-icon>
            <div>
              <strong>Data da solicitação</strong>
              <p>{{ solicitacaoSelecionada.dataHora }}</p>
            </div>
          </div>

          <div class="info-item">
            <mat-icon>category</mat-icon>
            <div>
              <strong>Categoria</strong>
              <p>{{ solicitacaoSelecionada.categoria }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Problema relatado -->
      <div class="section-card" *ngIf="solicitacaoSelecionada">
        <h3>Problema relatado pelo cliente</h3>
        <div class="problema-box">
          <p>{{ solicitacaoSelecionada.descricaoProblema }}</p>
        </div>
      </div>

      <!-- Valor do Orçamento -->
      <div class="section-card" *ngIf="solicitacaoSelecionada">
        <h3>Valor do orçamento (R$) *</h3>
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Valor total</mat-label>
          <input
            matInput
            type="number"
            [(ngModel)]="solicitacaoSelecionada.valorOrcamento"
            placeholder="0,00"
          />
        </mat-form-field>
        <small>Informe o valor total para a manutenção do equipamento</small>
      </div>

      <!-- Informações importantes -->
      <div class="section-card info-box">
        <h3>Informações importantes</h3>
        <ul>
          <li>O cliente receberá uma notificação sobre o orçamento</li>
          <li>Ele poderá aprovar ou rejeitar o valor proposto</li>
          <li>Após aprovação, você poderá iniciar a manutenção</li>
          <li>O pagamento só será solicitado após conclusão do serviço</li>
        </ul>
      </div>

      <!-- Ações -->
      <div class="actions" *ngIf="solicitacaoSelecionada">
        <button mat-stroked-button color="warn" (click)="cancelar()">Cancelar</button>
        <button mat-raised-button color="primary" (click)="salvarOrcamento()">
          <mat-icon>attach_money</mat-icon>
          Criar Orçamento
        </button>
      </div>

  </div>
</div>
